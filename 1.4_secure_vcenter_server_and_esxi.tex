\subsection{Secure vCenter Server and ESXi}

Enable tech support mode on the ESXi server enables the ESXi shell
(a command-line interface on the physical server console).\\

Enabling remote tech support on the ESXi server enables ssh.\\

Both are found in Troubleshooting Options on the ESXi console.\\

All vSphere client communications are encrypted.

VLANs can be used to segment service console traffic.

ESXi server has local Linux-like accounts.\\

It is not possible to run vCenter for Windows on a Windows Active Directory
domain controller.

\subsubsection{Identify common vCenter Server privileges and roles}

Default vSphere security roles:

\begin{itemize}
\item no access
\item read-only
\item administrator
\end{itemize}

Sample roles:

\begin{itemize}
\item VM power user
\item VM user
\item resource pool admin
\item VCB user
\item datastore consumer
\item network consumer
\end{itemize}

ESXI default users:

\begin{itemize}
\item vpxuser
\item dcui
\item root
\end{itemize}

\subsubsection{Describe how permissions are applied and inherited in vCenter Server}

Users and groups are assigned roles.\\

Roles are assigned to objects.\\

Combining users and groups with a roles are permissions.\\

Permissions are inherited in hierarchical manner. Permission changes take
effect immediately (you do not need to re-login).\\

vCenter installed on Windows uses Windows Active Directory accounts. vCenter
as a Linux appliance can use Windows Active Directory accounts.\\

Defining permissions on vCenter object using Active Directory users and groups
is recommended.\\

By default only root can login to ESXi and only Windows AD administrators on
the vCenter server can login to vCenter (assuming vCenter is installed on
Windows).\\

\subsubsection{Configure and administer the ESXi firewall}

Select the host, Configuration tab, Security Profile.

\subsubsection{Enable/Configure/Disable services in the ESXi firewall}

\subsubsection{Enable Lockdown Mode}

Lockdown mode prevents users other than vpxuser from authenticating to a host.
This means that no configuration can be done directly against the ESXi host
using vSphere client or vSphere CLI and everything must be done through
vCenter.\\

root can still log in on the direct console when lockdown mode is enabled.

\subsubsection{Configure network security policies}

\subsubsection{View/Sort/Export user and group lists}

\subsubsection{Add/Modify/Remove permissions for users and groups on vCenter inventory objects}

\subsubsection{Create/Clone/Edit vCenter Server Roles}

\subsubsection{Add an ESXi Host to a directory service}

\subsubsection{Apply permissions to ESXi Hosts using Host Profiles}

Host profiles encapsulate host configuration to maintain consistency and
correctness.\\

Host profiles are created by configuring a reference host. If the reference
host changes the profile can be updated.\\

\texttt{.vpf} is the VMware profile format. When a host profile is exported
it is in this format. For security usernames and passwords are not included
in the export.\\

Host profiles are composed of sub-profiles such as:

\begin{itemize}
\item memory reservation
\item storage
\item networking
\item data and time
\item firewall
\item security
\item service
\item advanced
\end{itemize}

A host must be in maintenance mode to apply a profile.

\subsubsection{Determine the appropriate set of privileges for common tasks in vCenter Server}
